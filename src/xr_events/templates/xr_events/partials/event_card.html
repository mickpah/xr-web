{% load i18n %}
{% load wagtailcore_tags %}
{% load wagtailimages_tags %}
{% load xr_pages_tags %}


<article class="block event-block">
    <a href="{{ event.get_url }}" class="block__link">
        <div class="block__content">
            {% if event.individualDateStart %}
                <div class="short-date">
                    <span class="short-date__start">
                        <span class="short-date__day">{{ event.individualDateStart|date:"d" }}</span>
                        <span class="short-date__month">{{ event.individualDateStart|date:"M" }}</span>
                    </span>
                    {% if event.individualDateEnd %}
                    {% if event.individualDateStart.date != event.individualDateEnd.date %}
                        <span class="short-date__end">
                            <span class="short-date__day">{{ event.individualDateEnd|date:"d" }}</span>
                            <span class="short-date__month">{{ event.individualDateEnd|date:"M" }}</span>
                        </span>
                    {% endif %}
                    {% endif %}
                </div>
            {% endif %}
            {% if event.get_image %}
                {% image event.get_image width-512 alt=event.title class="img-responsive" %}
            {% else %}
                <div class="image-placeholder"></div>
            {% endif %}
        </div>

        <div class="block__footer">
            <h3 class="h h--3 h--caps">{{ event.title }}</h3>

            {% if event.all_organiser_names %}
                <p><strong>{{ event.all_organiser_names }}</strong></p>
            {% endif %}

            {% if event.description %}
                <p>{{ event.description|truncatewords:"20" }}</p>
            {% endif %}

            <strong class="black float-right">{% trans "More" %} {% svg_icon "more" 24 %}</strong>

            {% if event.location %}
                <p>{{ event.location }}</p>
            {% endif %}

        </div>
    </a>
</article>
